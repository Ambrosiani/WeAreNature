<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Scene</title>
    <style type="text/css">
      .selected {
        fill: red;
      }
    </style>
    <script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
    <script src="js/jquery-3.2.1.min.js" charset="utf-8"></script>
    <script>
      // IMPORTS
      var {ipcRenderer, remote} = require('electron');
      var main = remote.require("./main.js");

      // FUNCTIONS
      function renderCategories() {
        $("#categoriesList").empty();
        for (category in main.sessionCategories) {
          // var count = $("<span>");
          // count.html(main.votes[category]);
          $("#categoriesList").append('<span>'+main.sessionCategories[category]+'  <span>');
          // $("#actionsList").append(count);
          $("#categoriesList").append('<br>');
        }
      }

      function renderActions() {
        for (var i = 0; i < main.sessionCategories.length; i++) {
          let categoryName = main.sessionCategories[i];
          let category = main.categories[categoryName];

          for (var j = 0; j < category.actions.length; j++) {
            let actionName = category.actions[j];
            let action = main.actions[actionName];
            console.log(action);
            $("#actionsList").append('<span>'+action.title+'<span>');
            $("#actionsList").append('<br>');
          }
        }
      }

      // ON READY
      $(document).ready(function() {
        renderCategories();
        renderActions();

        $("#okButton").click(function() {
          ipcRenderer.send('resetInteraction', null);
        });

        $("#emailButton").click(function() {
          ipcRenderer.send('inputEmail', null);
        });
      });
    </script>
    <script>if (window.module) module = window.module;</script>
</head>
<body>
<div class="container">
  <div id="okButton">
    CANCEL
  </div>
  <div id="emailButton">
    EMAIL ME THIS LIST
  </div>
  <div>
    You said you want to protect these things:
  </div>
  <div id="categoriesList">
  </div>
  <div>
    Here's what you can do:
  </div>
  <div id="actionsList">
  </div>

</div>
</body>
</html>
